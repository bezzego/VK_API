# VK Link Shortener and Analytics

Скрипт для сокращения длинных URL-адресов с помощью сервиса VK.cc и отслеживания статистики переходов по сокращенным ссылкам.

## Возможности

- Сокращение длинных URL-адресов через API ВКонтакте
- Подсчет количества переходов по сокращенным ссылкам vk.cc

## Установка

1. Клонируйте репозиторий:
```bash
git clone <your-repo-url>
cd vk-link-shortener
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте в него токен VK API:
```
VK_TOKEN=your_access_token
```
## Переменные окружения

Для работы скрипта требуется настроить переменные окружения. Основная переменная:

- `VK_TOKEN` — токен доступа к API ВКонтакте. Его можно получить, создав приложение на [dev.vk.com](https://dev.vk.com) и запросив права на использование методов `utils`.

Пример файла `.env`:
```
VK_TOKEN=your_access_token
```

Убедитесь, что файл `.env` находится в корневой директории проекта и содержит корректный токен.


## Использование

Скрипт работает в двух режимах:

### 1. Сокращение ссылки

```bash
python main.py https://очень-длинная-ссылка.ru/которую/нужно/сократить
```

### 2. Проверка статистики

```bash
python main.py https://vk.cc/сокращенная_ссылка
```

## Примеры

Сокращение ссылки:
```bash
python main.py https://www.example.com/very/long/url
# Вывод: Сокращенная ссылка: https://vk.cc/xxxxx
```

Проверка статистики:
```bash
python main.py https://vk.cc/xxxxx
# Вывод: Количество переходов по ссылке: 42
```

## Зависимости

- Python 3.6+
- requests==2.31.0
- python-dotenv==1.0.1

## Обработка ошибок

Скрипт обрабатывает следующие типы ошибок:
- Отсутствие переменной окружения VK_TOKEN
- Ошибки сетевых запросов
- Ошибки API ВКонтакте
- Некорректные URL-адреса

## Получение токена VK API

1. Создайте приложение на [dev.vk.com](https://dev.vk.com)
2. Получите токен доступа с правами на использование методов `utils`
3. Добавьте токен в файл `.env`